# 프로젝트 분석 및 개선 제안 보고서

**문서 목적**: 본 문서는 "dev-rules-starter-kit" 프로젝트의 현재 상태를 다각적으로 분석하고, 향후 발전 방향과 보완점을 제안하여 다른 AI 에이전트(예: Claude)가 프로젝트의 맥락을 이해하고 기여할 수 있도록 돕는 것을 목적으로 합니다.

**분석 방법**: `멀티-페르소나` 및 `멀티-에이전트` 관점을 도입하고, `MCP(Master Control Program)`, `Context7`, `Sequential`, `Playwright` 등 프로젝트의 핵심 개념을 기반으로 시스템을 분석합니다.

---

## 1. 총평 (Overall Assessment)

**"헌법 기반의 실행 가능한 지식 베이스"**라는 프로젝트의 핵심 정체성은 매우 명확하며, `constitution.yaml`을 중심으로 한 자동화 워크플로우는 견고하게 설계되어 있습니다. 현재 시스템은 독립적으로도 충분히 기능하며, 특히 `TaskExecutor`와 `ObsidianBridge`를 통한 **증거 기반 개발 및 지식 자산화**는 뛰어난 컨셉입니다.

다만, `MCP` 통합과 같은 고도화된 AI 에이전트 연동 기능은 아직 완전히 구현되지 않은 상태로, 현재의 **"견고한 수동/반자동 시스템"**과 미래의 **"지능형 자율 시스템"** 사이에 다리를 놓는 과정에 있습니다.

본 보고서는 이 간극을 메우고 프로젝트의 잠재력을 극대화하기 위한 방안을 제시합니다.

---

## 2. 페르소나 기반 상세 분석 및 제안

### 페르소나 1: 오케스트레이터 (Orchestrator) - 시스템 아키텍트

> 시스템 전체의 일관성과 효율성을 관리하는 아키텍트 관점

#### 분석
- **강점**: 7계층 아키텍처와 헌법(P1~P13)은 시스템의 모든 구성 요소가 존재하는 이유를 명확히 정의하여, 기능 확장의 일관성을 유지하는 강력한 기반이 됩니다. `MCP-Agent 매핑` 개념은 각 에이전트의 역할을 전문화하여 시스템의 확장성을 보장합니다.
- **개선점**: 현재 여러 종류의 MCP 서버(`Context7`, `Sequential` 등)가 구상되어 있으나, 이들을 동적으로 선택하고 조합하는 `mcp_orchestrator.py`의 구체적인 라우팅 로직이 아직 정의되지 않았습니다. 이로 인해 에이전트가 최적의 도구를 선택하지 못하고, 상황에 맞지 않는 분석을 수행할 위험이 있습니다.

#### 제안
- **전/후**:
    - **(전)**: `DeepAnalyzer` 등에서 `mcp_enabled=False`로 고정되어, AST 기반의 단일 분석만 수행합니다.
    - **(후)**: `mcp_orchestrator.py`에 작업의 복잡도, 위험도, 컨텍스트(예: "UI 수정" vs "보안 로직 변경")를 기반으로 최적의 MCP 서버(`Context7`, `Playwright`, `Sequential` 등)를 동적으로 선택하는 라우팅 규칙을 구현합니다.
- **기대 효과**:
    - **효율성**: 간단한 작업은 가벼운 MCP로 빠르게 처리하고, 복잡한 작업은 `Sequential MCP`로 심층 분석하여 리소스 사용을 최적화합니다.
    - **정확성**: 작업의 성격에 맞는 전문화된 에이전트(MCP)를 활용하여 분석의 정확도와 깊이를 향상시킵니다.
- **장단점**:
    - **장점**: 시스템의 "지능"이 향상되고, 다양한 유형의 작업을 더 정교하게 처리할 수 있습니다.
    - **단점**: 오케스트레이션 로직 자체가 복잡해져 유지보수 비용이 증가할 수 있습니다.
- **고려사항**: 초기에는 단순한 규칙(예: 파일 경로, 키워드 기반)으로 시작하여 점진적으로 고도화하는 전략이 유효합니다.

---

### 페르소나 2: 신규 기여자 (New Contributor) - 온보딩 개발자/AI

> 프로젝트에 새로 참여하여 시스템을 학습하고 기여해야 하는 개발자 또는 AI 에이전트 관점

#### 분석
- **강점**: `README.md`, `NORTH_STAR.md`, `GEMINI.md` 등 핵심 문서가 프로젝트의 철학과 구조를 명확하게 설명하고 있습니다. `setup.sh` 스크립트는 초기 환경 설정 과정을 자동화하여 진입 장벽을 낮춥니다.
- **개선점**: `MCP`, `Context7` 등 고유한 개념들이 여러 문서(`FINAL_VALIDATION_OPUS.md`, `TIER1_SUPERCLAUDE_INTEGRATION_PLAN.md` 등)에 걸쳐 파편적으로 설명되어 있어, 신규 참여자가 전체 그림을 이해하기 어렵습니다. 개념의 수가 많고, 일부는 아직 구현되지 않은 미래의 비전이라 혼란을 유발할 수 있습니다.

#### 제안
- **전/후**:
    - **(전)**: 여러 문서에 흩어져 있는 MCP 관련 개념들을 학습해야 전체 시스템 파악이 가능합니다.
    - **(후)**: `docs/mcp_guide.md` 또는 `AGENTS.md` 파일을 신설하여, 각 MCP 서버의 역할, 사용 시나리오, 현재 구현 상태(구현 완료/설계 단계), 사용 예시 등을 한 곳에 통합하여 설명합니다.
- **기대 효과**:
    - **학습 곡선 완화**: 신규 참여자가 AI 에이전트 아키텍처를 빠르게 이해하고, 어떤 상황에서 어떤 도구를 사용해야 할지 명확히 알 수 있습니다.
    - **기여도 향상**: 명확한 가이드를 통해 AI 에이전트나 개발자가 더 빠르고 정확하게 프로젝트에 기여할 수 있습니다.
- **장단점**:
    - **장점**: 문서의 중앙 집중화로 정보 접근성이 크게 향상됩니다.
    - **단점**: 시스템이 발전함에 따라 해당 가이드 문서를 지속적으로 최신 상태로 유지해야 하는 부담이 생깁니다.
- **고려사항**: 각 MCP 서버의 설명을 `(구현 완료)`, `(설계 단계)`와 같이 상태 태그를 붙여 명시하면, 현재 사용 가능한 기능과 미래 비전을 명확히 구분하는 데 도움이 됩니다.

---

### 페르소나 3: 품질 보증 엔지니어 (QA Engineer) - `Playwright MCP` 활용 관점

> 시스템의 안정성과 품질을 보증하고 테스트하는 관점

#### 분석
- **강점**: `pytest`를 사용한 단위/통합 테스트가 `tests/` 디렉토리 하위에 구조화되어 있으며, `pre-commit` 훅을 통해 커밋 시점에 `ruff` 린팅을 강제하는 등 기본적인 코드 품질은 잘 관리되고 있습니다.
- **개선점**: `Playwright MCP`의 개념은 E2E(End-to-End) 테스트 자동화를 암시하지만, 현재 `streamlit_app.py`나 `web/` 디렉토리의 웹 인터페이스에 대한 구체적인 E2E 테스트 케이스나 실행 프레임워크가 보이지 않습니다. `NORTH_STAR.md`에서 UI/UX의 중요도를 낮게 설정했지만, 시스템의 상태를 시각화하는 대시보드의 기능적 정확성은 중요합니다.

#### 제안
- **전/후**:
    - **(전)**: Streamlit 대시보드의 기능 변경 시 수동 테스트에 의존해야 합니다.
    - **(후)**: `tests/e2e/` 디렉토리를 생성하고, Playwright를 사용하여 핵심 기능(예: Quality Gate 상태 표시, 파일 분석 결과 렌더링)에 대한 기본적인 E2E 테스트 스크립트를 추가합니다. 이 테스트는 GitHub Actions 워크플로우에 통합하여 PR 시점에 자동으로 실행되도록 합니다.
- **기대 효과**:
    - **안정성 확보**: 대시보드 관련 코드 변경 시 발생할 수 있는 시각적/기능적 회귀(regression)를 자동으로 방지합니다.
    - **Playwright MCP 기반 마련**: E2E 테스트 코드를 미리 확보하여, 향후 `Playwright MCP`가 테스트를 자동 생성하거나 실행할 때 기반으로 활용할 수 있습니다.
- **장단점**:
    - **장점**: 시스템의 최종 결과물인 대시보드의 신뢰성이 향상됩니다.
    - **단점**: UI가 변경될 때마다 E2E 테스트 코드도 함께 유지보수해야 합니다.
- **고려사항**: 모든 UI 요소를 테스트하기보다, 헌법의 각 조항(P1~P13)이 대시보드에 올바르게 반영되는지를 검증하는 핵심 시나리오에 집중하는 것이 효율적입니다.

---

## 3. 결론 및 종합 제안

이 프로젝트는 매우 혁신적인 아이디어를 담고 있으며, AI 에이전트를 개발 프로세스의 핵심 참여자로 통합하려는 비전은 인상적입니다. 현재는 그 비전을 향한 과정에 있으며, 제안된 개선안들은 **현재와 미래의 간극을 줄이고 시스템의 잠재력을 끌어내는 데** 초점을 맞추고 있습니다.

**종합 제안**:

1.  **MCP 오케스트레이터 구체화**: `mcp_orchestrator.py`에 태스크의 메타데이터를 분석하여 적절한 MCP 서버로 작업을 라우팅하는 로직을 우선적으로 구현합니다.
2.  **통합 가이드 문서 작성**: `docs/mcp_guide.md`를 생성하여 분산된 AI 에이전트 및 MCP 관련 개념을 중앙에서 관리하고, 신규 참여자의 학습 부담을 줄입니다.
3.  **E2E 테스트 도입**: `Playwright`를 활용한 기본 대시보드 테스트를 구축하여 시스템의 기능적 안정성을 강화하고, 향후 `Playwright MCP`의 기반을 마련합니다.

이 제안들은 프로젝트의 핵심 철학을 훼손하지 않으면서, 시스템의 **지능성, 안정성, 접근성**을 한 단계 높이는 데 기여할 것입니다.
