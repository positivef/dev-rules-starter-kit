# Constitution User Flow Scenarios
# 사용자 입장 플로우별 도구 사용 가이드

**작성일**: 2025-10-31
**목적**: 각 개발 시나리오에서 어떤 도구를 언제 사용하는지 명확히 설명
**대상**: 1인 바이브코더 (멀티 AI 세션 활용)

---

## 📋 전체 도구 인벤토리

### MCP Servers (6개)
| MCP | 목적 | 사용 시점 | 플래그 |
|-----|------|----------|--------|
| **Context7** | 공식 문서 조회 | 프레임워크 패턴, 라이브러리 API | `--c7` |
| **Sequential** | 복잡한 분석 | 아키텍처 설계, 루트 원인 분석 | `--seq` |
| **Magic** | UI 컴포넌트 생성 | 21st.dev 패턴, 반응형 UI | `--magic` |
| **Morphllm** | 패턴 기반 편집 | 일괄 수정, 스타일 강제 | `--morph` |
| **Serena** | 심볼 조작 & 세션 관리 | 함수 추출, 프로젝트 메모리 | `--serena` |
| **Playwright** | E2E 테스트 & 브라우저 자동화 | 시각적 테스트, 접근성 검증 | `--play` |

### Academic Verification (5개 DB)
| 데이터베이스 | 가중치 | 전문 분야 |
|------------|--------|----------|
| **Semantic Scholar** | 30% | 컴퓨터 과학 전반 |
| **arXiv** | 25% | 최신 연구 (pre-print) |
| **Crossref** | 20% | 학술 메타데이터 |
| **PubMed** | 15% | 생명과학 (의료 AI 등) |
| **OpenAlex** | 10% | 오픈 액세스 연구 |

**사용 시점**: `/dev` 명령어의 Stage 3 (Academic Verification)

### Skills (12개 - Claude Code 기본 제공)
| Skill | 목적 | 사용 시점 |
|-------|------|----------|
| **pdf** | PDF 보고서 생성 | 헌법 준수 보고서, 품질 메트릭 |
| **docx** | Word 문서 작업 | 공식 문서, 계약서 |
| **xlsx** | Excel 스프레드시트 | 데이터 분석, 통계 |
| **pptx** | PowerPoint 프레젠테이션 | 발표 자료 |
| **artifacts-builder** | 고급 대시보드 UI | React 통합 대시보드 |
| **mcp-builder** | MCP 서버 구축 | 시스템 통합 서버 |
| **requirements-analyst** | 요구사항 분석 | `/dev` Stage 2 |
| **webapp-testing** | 웹앱 테스트 | Playwright 통합 |
| **skill-creator** | 스킬 생성 | 커스텀 스킬 개발 |
| **canvas-design** | 비주얼 아트 | 포스터, 디자인 |
| **algorithmic-art** | 알고리즘 아트 | p5.js 생성 아트 |
| **slack-gif-creator** | Slack GIF 생성 | 애니메이션 이모지 |

### Native Claude Code 도구
- **TaskExecutor** - YAML 계약 실행 (P1)
- **ConstitutionalValidator** - 헌법 준수 검증
- **DeepAnalyzer** - SOLID, 보안, 환각 방지 분석
- **ObsidianBridge** - 3초 지식 동기화 (P3)
- **SessionManager** - 세션 상태 관리
- **TeamStatsAggregator** - 품질 메트릭 계산

---

## 🎯 플로우 시나리오 (12개)

## 시나리오 1: 신규 기능 개발 (E2E Full Flow)

**요청**: "사용자 인증 시스템 추가"

### Phase 1: 요구사항 명확화 (5분)
```bash
사용자: "사용자 인증 시스템 추가해줘"

Claude (--brainstorm 자동 활성화):
  "어떤 인증 방식을 원하시나요?"
  - OAuth2 (Google/GitHub)
  - JWT (Simple token)
  - Session-based

  "예상 사용자 수는?"
  "기존 DB 시스템은?"
```

**도구**:
- ✅ Native Claude (Brainstorm mode)

### Phase 2: 학술 검증 (/dev 명령 사용)
```bash
사용자: "/dev JWT 인증 시스템 구현 (refresh token 포함)"

Claude:
  Stage 1: Interactive Gathering ✅
  Stage 2: Requirements Analysis → requirements-analyst skill
  Stage 3: Academic Verification → 5 DB 조회
    - Semantic Scholar: "JWT best practices" 15 papers
    - arXiv: "Secure token storage" 8 papers
    - Crossref: "OAuth2 vs JWT comparison" 12 papers
    - 가중 신뢰도: 0.78 ✅ (verified)

  Stage 4: YAML Refinement
    - RFC 7519 references 추가
    - Security best practices 반영

  Stage 5: Execution
    - TaskExecutor로 YAML 실행
    - ConstitutionalValidator로 P5 (Security) 검증

  Stage 6: Documentation
    - ObsidianBridge로 개발일지 생성
    - Tags: #verified #high-confidence #jwt
```

**도구**:
- ✅ Skill: requirements-analyst
- ✅ Academic DBs: Semantic Scholar, arXiv, Crossref, PubMed, OpenAlex
- ✅ TaskExecutor
- ✅ ConstitutionalValidator
- ✅ ObsidianBridge

### Phase 3: SPEC 생성 (10분)
```bash
Claude (Context7 자동 활성화):
  "EARS grammar 패턴 조회 중..."

  생성된 SPEC:
  # contracts/REQ-AUTH-001.yaml
  requirement:
    id: REQ-AUTH-001
    title: JWT Authentication with Refresh Tokens

  ears:
    when: User submits login credentials
    if: Credentials are valid
    then: System SHALL generate JWT access token and refresh token
    where: Access token expires in 15 minutes, refresh token in 7 days

  references:
    - RFC 7519 (JWT)
    - RFC 6749 (OAuth2 framework)
    - OWASP Top 10 (A02:2021 Cryptographic Failures)
```

**도구**:
- ✅ MCP: Context7 (EARS 패턴)
- ✅ TaskExecutor (SPEC 생성)

### Phase 4: 아키텍처 설계 (15분)
```bash
사용자: "--think-hard로 JWT 아키텍처 설계해줘"

Claude (Sequential MCP 활성화):
  분석 단계:
  1. 보안 요구사항 분석
     - Token storage (httpOnly cookie)
     - CSRF protection
     - XSS prevention

  2. 성능 요구사항 분석
     - Token validation latency < 10ms
     - Database query optimization

  3. 아키텍처 설계
     - Middleware: JWT verification
     - Service: Token generation/refresh
     - Repository: User authentication
```

**도구**:
- ✅ MCP: Sequential (심층 분석)
- ✅ MCP: Context7 (보안 패턴)

### Phase 5: 백엔드 구현 (30분)
```bash
Claude (자동 코드 생성):
  1. auth/middleware.js 생성
  2. auth/service.js 생성
  3. auth/repository.js 생성

  모든 파일에 @TAG 자동 추가:
  // @TAG @REQ-AUTH-001 @IMPL-AUTH-MW-001
```

**도구**:
- ✅ TaskExecutor (YAML 실행)
- ✅ DeepAnalyzer (SOLID 검증)

### Phase 6: 프론트엔드 구현 (20분)
```bash
사용자: "Magic으로 로그인 폼 생성해줘"

Claude (Magic MCP 활성화):
  생성:
  - LoginForm.jsx (21st.dev 패턴)
  - 접근성 준수 (WCAG 2.1 AA)
  - 반응형 디자인
  - 폼 검증 로직

  // @TAG @REQ-AUTH-001 @IMPL-AUTH-UI-001
```

**도구**:
- ✅ MCP: Magic (UI 생성)
- ✅ DeepAnalyzer (접근성 검증)

### Phase 7: E2E 테스트 (25분)
```bash
사용자: "Playwright로 로그인 플로우 테스트 작성해줘"

Claude (Playwright MCP 활성화):
  생성:
  - tests/e2e/auth.spec.js
    - test_valid_login_success
    - test_invalid_credentials_401
    - test_token_refresh_flow
    - test_logout_invalidates_token
    - test_accessibility_compliance

  // @TAG @REQ-AUTH-001 @TEST-AUTH-E2E-001
```

**도구**:
- ✅ MCP: Playwright (브라우저 자동화)
- ✅ MCP: Playwright (접근성 자동 검증)

### Phase 8: TDD 검증 (5분)
```bash
Claude (자동 실행):
  pytest tests/

  커버리지: 92.3% (목표: 90%) ✅
  접근성: WCAG 2.1 AA 준수 ✅
```

**도구**:
- ✅ pytest
- ✅ ConstitutionalValidator (P8: Test First)

### Phase 9: 추적성 검증 (3분)
```bash
Claude (자동 실행):
  python scripts/tier1_cli.py tag @REQ-AUTH-001

  [OK] Tag chain verified:
    @REQ-AUTH-001 (contracts/REQ-AUTH-001.yaml)
      -> @IMPL-AUTH-MW-001 (auth/middleware.js:1)
      -> @IMPL-AUTH-SVC-001 (auth/service.js:1)
      -> @IMPL-AUTH-UI-001 (components/LoginForm.jsx:1)
      -> @TEST-AUTH-E2E-001 (tests/e2e/auth.spec.js:1)
```

**도구**:
- ✅ tier1_cli.py tag

### Phase 10: Obsidian 동기화 (자동 3초)
```bash
Claude (자동 실행):
  ObsidianBridge로 개발일지 생성

  위치: 개발일지/2025-10-31_JWT_Authentication.md
  내용:
    - 작업 내역
    - Academic references (RFC 7519, OWASP)
    - 테스트 결과
    - 추적성 체인
```

**도구**:
- ✅ ObsidianBridge (P3: Knowledge Asset)

**총 소요 시간**: 113분 (기존 4시간 → 68% 단축)

**사용된 도구**:
1. Native Claude (Brainstorm)
2. Skill: requirements-analyst
3. Academic DBs (5개)
4. MCP: Context7
5. MCP: Sequential
6. MCP: Magic
7. MCP: Playwright
8. TaskExecutor
9. ConstitutionalValidator
10. DeepAnalyzer
11. ObsidianBridge
12. tier1_cli

---

## 시나리오 2: 레거시 리팩토링

**요청**: "클래스 컴포넌트를 함수형으로 변환"

### Phase 1: 현황 분석 (10분)
```bash
사용자: "--think-hard로 현재 컴포넌트 구조 분석해줘"

Claude (Sequential MCP):
  분석:
  - AuthService.jsx (클래스, 450줄)
  - UserProfile.jsx (클래스, 320줄)
  - Dashboard.jsx (클래스, 280줄)

  문제:
  - State coupling
  - Hard to test
  - No tree-shaking
```

**도구**:
- ✅ MCP: Sequential

### Phase 2: 심볼 추출 (15분)
```bash
사용자: "Serena로 AuthService.login 메서드 추출해줘"

Claude (Serena MCP):
  1. LSP로 심볼 분석
  2. 의존성 파악
  3. 안전한 추출

  생성:
  - auth/login.js (독립 함수)
  - 모든 호출부 자동 업데이트 ✅
```

**도구**:
- ✅ MCP: Serena (심볼 조작)

### Phase 3: 패턴 일괄 적용 (10분)
```bash
사용자: "Morphllm으로 나머지 컴포넌트도 함수형으로 변환해줘"

Claude (Morphllm MCP):
  1. login() 추출 패턴 인식
  2. 유사 메서드 탐색 (15개)
  3. 병렬 일괄 적용

  결과:
  - 15개 파일 동시 변환
  - 0 errors (LSP 검증)
```

**도구**:
- ✅ MCP: Morphllm (패턴 기반 편집)

### Phase 4: 테스트 업데이트 (20분)
```bash
사용자: "--loop으로 테스트 수정 및 검증해줘"

Claude (Loop mode):
  Iteration 1: Import 경로 수정
  Iteration 2: Mock 전략 변경
  Iteration 3: 모든 테스트 통과 ✅

  커버리지: 91.2%
```

**도구**:
- ✅ Native Claude (Loop mode)
- ✅ pytest

**총 소요 시간**: 55분 (기존 3시간 → 69% 단축)

**사용된 도구**:
1. MCP: Sequential
2. MCP: Serena
3. MCP: Morphllm
4. Native Claude (Loop)
5. pytest

---

## 시나리오 3: 버그 수정 (RCA)

**요청**: "프로덕션 인증 실패 간헐적 발생"

### Phase 1: 루트 원인 분석 (20분)
```bash
사용자: "--think-hard로 인증 실패 원인 분석해줘"

Claude (Sequential MCP):
  가설 생성:
  1. Token expiration timing
  2. Clock skew between servers
  3. Race condition
  4. Database timeout
  5. Cache invalidation

  증거 수집:
  - 127개 실패 로그 분석
  - 패턴: :00, :30분에 스파이크

  가설 검증:
  H2 (Clock skew): ✅✅✅
    Server A가 Server B보다 45초 빠름

  Root Cause: NTP sync 실패
```

**도구**:
- ✅ MCP: Sequential (체계적 RCA)

### Phase 2: Best Practice 조회 (10분)
```bash
사용자: "--c7으로 JWT clock skew 해결 패턴 찾아줘"

Claude (Context7 MCP):
  패턴:
  1. Clock tolerance (±5분)
  2. Relative expiration (24h)
  3. Timestamp validation

  코드 예제:
  jwt.verify(token, secret, { clockTolerance: 300 })
```

**도구**:
- ✅ MCP: Context7

### Phase 3: 일괄 수정 (15분)
```bash
사용자: "Morphllm으로 모든 jwt.verify에 clockTolerance 추가해줘"

Claude (Morphllm MCP):
  수정된 파일: 7개
  0 errors

  // @TAG @FIX-AUTH-CLOCK-001
```

**도구**:
- ✅ MCP: Morphllm

### Phase 4: 회귀 테스트 (15분)
```bash
사용자: "Playwright로 clock skew 시나리오 테스트 작성해줘"

Claude (Playwright MCP):
  생성:
  - test_clock_skew_within_tolerance
  - test_clock_skew_beyond_tolerance

  // @TAG @FIX-AUTH-CLOCK-001 @TEST-AUTH-CLOCK-001
```

**도구**:
- ✅ MCP: Playwright

**총 소요 시간**: 60분 (기존 4시간 → 75% 단축)

**사용된 도구**:
1. MCP: Sequential
2. MCP: Context7
3. MCP: Morphllm
4. MCP: Playwright

---

## 시나리오 4: UI 개발 (Design to Code)

**요청**: "사용자 대시보드 추가"

### Phase 1: 요구사항 명확화 (10분)
```bash
사용자: "--brainstorm으로 대시보드 요구사항 분석해줘"

Claude:
  질문:
  - 주요 메트릭은? (KPI)
  - 실시간 업데이트? (WebSocket vs Polling)
  - 사용자 권한? (Admin vs User)

  브리프:
  - User metrics (login count, activity)
  - 30초 polling
  - Role-based access
  - WCAG 2.1 AA 준수
```

**도구**:
- ✅ Native Claude (Brainstorm)

### Phase 2: UI 생성 (20분)
```bash
사용자: "Magic으로 대시보드 생성해줘"

Claude (Magic MCP):
  생성:
  - Dashboard.jsx
    - ARIA labels 자동 추가
    - Semantic HTML
    - Loading states
    - @TAG 주석

  - MetricsChart.jsx
  - UserProfile.jsx
```

**도구**:
- ✅ MCP: Magic (21st.dev 패턴)

### Phase 3: E2E + 접근성 테스트 (15분)
```bash
사용자: "Playwright로 대시보드 테스트 작성해줘"

Claude (Playwright MCP):
  생성:
  - test_displays_user_metrics
  - test_refreshes_every_30s
  - test_meets_accessibility_standards

  접근성 자동 검증:
  - WCAG 2.1 AA: ✅ Passed
```

**도구**:
- ✅ MCP: Playwright (E2E + a11y)

### Phase 4: 고급 대시보드 (선택, 30분)
```bash
사용자: "artifacts-builder로 통합 대시보드 만들어줘"

Claude (Skill: artifacts-builder):
  생성:
  - integrated_dashboard.html
  - React + TypeScript + Tailwind
  - 7계층 아키텍처 시각화
  - YAML 실행기 내장
```

**도구**:
- ✅ Skill: artifacts-builder

**총 소요 시간**: 45분 (기존 2.5시간 → 70% 단축)

**사용된 도구**:
1. Native Claude (Brainstorm)
2. MCP: Magic
3. MCP: Playwright
4. Skill: artifacts-builder (선택)

---

## 시나리오 5: 보고서 생성

**요청**: "월간 헌법 준수 보고서 생성"

### Phase 1: 데이터 수집 (5분)
```bash
Claude (자동 실행):
  python scripts/constitutional_validator.py --report
  python scripts/team_stats_aggregator.py --monthly
```

**도구**:
- ✅ ConstitutionalValidator
- ✅ TeamStatsAggregator

### Phase 2: PDF 보고서 생성 (10분)
```bash
사용자: "pdf skill로 헌법 준수 보고서 만들어줘"

Claude (Skill: pdf):
  생성:
  - constitution_report_2025_10.pdf
    - 13개 조항별 준수 현황
    - 품질 메트릭 그래프
    - 추세 분석
    - 권고사항
```

**도구**:
- ✅ Skill: pdf (PDF 생성)

### Phase 3: Excel 데이터 분석 (선택, 15분)
```bash
사용자: "xlsx skill로 상세 데이터 분석해줘"

Claude (Skill: xlsx):
  생성:
  - quality_metrics_2025_10.xlsx
    - Sheet 1: 조항별 준수율
    - Sheet 2: 테스트 커버리지 추세
    - Sheet 3: 코드 품질 스코어
    - 차트 자동 생성
```

**도구**:
- ✅ Skill: xlsx (Excel 분석)

**총 소요 시간**: 15분 (기존 1시간 → 75% 단축)

**사용된 도구**:
1. ConstitutionalValidator
2. TeamStatsAggregator
3. Skill: pdf
4. Skill: xlsx (선택)

---

## 시나리오 6: 멀티 세션 협업

**요청**: "Claude + Cursor 동시 작업 (백엔드 + 프론트엔드)"

### Phase 1: 세션 초기화 (5분)
```bash
# Session 1 (Claude - 백엔드)
사용자: "Serena로 세션 로드해줘"

Claude (Serena MCP):
  python scripts/multi_agent_sync.py register --agent claude
  python scripts/session_manager.py start

  로드된 컨텍스트:
  - 프로젝트 구조
  - 현재 작업 상태
  - 기존 결정사항
```

**도구**:
- ✅ MCP: Serena (세션 관리)
- ✅ SessionManager
- ✅ multi_agent_sync.py

### Phase 2: 백엔드 작업 (Claude - 30분)
```bash
# Session 1 (Claude)
사용자: "API 엔드포인트 추가해줘"

Claude:
  Lock 획득: src/api/auth.py

  작업:
  - auth.py 수정
  - 테스트 작성
  - 증거 수집

  Lock 해제 ✅
```

**도구**:
- ✅ agent_sync.py (Lock 관리)
- ✅ TaskExecutor

### Phase 3: 프론트엔드 작업 (Cursor - 동시 진행)
```bash
# Session 2 (Cursor)
사용자: "Magic으로 로그인 폼 만들어줘"

Cursor (via Claude):
  충돌 체크:
  - src/api/auth.py → LOCKED by claude ⚠️
  - src/components/ → Available ✅

  작업:
  - LoginForm.jsx 생성 (Magic MCP)
  - 접근성 검증
```

**도구**:
- ✅ agent_sync_status.py (충돌 체크)
- ✅ MCP: Magic (Cursor에서 사용)

### Phase 4: 통합 및 검증 (10분)
```bash
# Session 1 (Claude)
사용자: "Playwright로 E2E 테스트 실행해줘"

Claude (Playwright MCP):
  백엔드 + 프론트엔드 통합 테스트
  - test_login_flow_e2e ✅
  - test_api_integration ✅
```

**도구**:
- ✅ MCP: Playwright

### Phase 5: 세션 저장 (3분)
```bash
# 두 세션 모두
사용자: "Serena로 세션 저장해줘"

Claude/Cursor (Serena MCP):
  python scripts/session_manager.py save

  저장:
  - 컨텍스트
  - 작업 내역
  - 결정사항
```

**도구**:
- ✅ MCP: Serena (세션 관리)
- ✅ SessionManager

**총 소요 시간**: 48분 (기존 2시간 → 60% 단축)

**사용된 도구**:
1. MCP: Serena
2. SessionManager
3. agent_sync.py
4. MCP: Magic
5. MCP: Playwright

---

## 시나리오 7: 성능 최적화

**요청**: "API 응답 시간 개선"

### Phase 1: 성능 분석 (15분)
```bash
사용자: "--think-hard로 API 성능 병목 찾아줘"

Claude (Sequential MCP):
  프로파일링:
  - Database queries: 850ms (병목!)
  - Network latency: 50ms
  - Processing: 100ms

  분석:
  - N+1 query 문제
  - Index 누락
  - 불필요한 JOIN
```

**도구**:
- ✅ MCP: Sequential

### Phase 2: Best Practice 조회 (5분)
```bash
사용자: "--c7으로 N+1 query 해결 패턴 찾아줘"

Claude (Context7 MCP):
  패턴:
  - Eager loading
  - DataLoader (GraphQL)
  - Database indexing
```

**도구**:
- ✅ MCP: Context7

### Phase 3: 코드 수정 (20분)
```bash
사용자: "Morphllm으로 모든 쿼리에 eager loading 적용해줘"

Claude (Morphllm MCP):
  수정된 파일: 12개

  Before: query().all()
  After: query().options(joinedload('relations')).all()
```

**도구**:
- ✅ MCP: Morphllm

### Phase 4: 성능 테스트 (10분)
```bash
사용자: "Playwright로 성능 테스트 작성해줘"

Claude (Playwright MCP):
  생성:
  - test_api_response_time_under_200ms

  결과:
  - Before: 850ms
  - After: 120ms ✅ (86% 개선)
```

**도구**:
- ✅ MCP: Playwright

**총 소요 시간**: 50분 (기존 3시간 → 72% 단축)

**사용된 도구**:
1. MCP: Sequential
2. MCP: Context7
3. MCP: Morphllm
4. MCP: Playwright

---

## 시나리오 8: 접근성 검증 및 개선

**요청**: "웹사이트 WCAG 2.1 AA 준수 검증"

### Phase 1: 자동 접근성 검사 (5분)
```bash
사용자: "Playwright로 접근성 검사해줘"

Claude (Playwright MCP):
  자동 검사:
  - pages/dashboard.html: 12 issues
  - pages/profile.html: 8 issues
  - pages/settings.html: 5 issues

  주요 문제:
  - Missing ARIA labels
  - Low contrast ratios
  - No keyboard navigation
```

**도구**:
- ✅ MCP: Playwright (a11y 자동 검증)

### Phase 2: UI 개선 (20분)
```bash
사용자: "Magic으로 접근성 문제 수정해줘"

Claude (Magic MCP):
  수정:
  - ARIA labels 추가
  - Contrast ratio 개선
  - Keyboard focus indicators
  - Screen reader text
```

**도구**:
- ✅ MCP: Magic (접근성 자동 적용)

### Phase 3: 재검증 (5분)
```bash
사용자: "Playwright로 재검증해줘"

Claude (Playwright MCP):
  결과:
  - pages/dashboard.html: ✅ 0 issues
  - pages/profile.html: ✅ 0 issues
  - pages/settings.html: ✅ 0 issues

  WCAG 2.1 AA: ✅ Compliant
```

**도구**:
- ✅ MCP: Playwright

**총 소요 시간**: 30분 (기존 2시간 → 75% 단축)

**사용된 도구**:
1. MCP: Playwright
2. MCP: Magic

---

## 시나리오 9: 문서 작성 (기술 문서)

**요청**: "API 문서 작성"

### Phase 1: API 스펙 추출 (10분)
```bash
사용자: "--c7으로 OpenAPI 패턴 찾아줘"

Claude (Context7 MCP):
  패턴:
  - OpenAPI 3.0 spec
  - Swagger UI 통합
  - Example responses
```

**도구**:
- ✅ MCP: Context7

### Phase 2: Word 문서 생성 (15분)
```bash
사용자: "docx skill로 API 문서 만들어줘"

Claude (Skill: docx):
  생성:
  - API_Documentation.docx
    - Endpoints 목록
    - Request/Response 예제
    - Authentication 방법
    - Error codes
```

**도구**:
- ✅ Skill: docx

### Phase 3: PDF 보고서 변환 (5분)
```bash
사용자: "pdf skill로 PDF 변환해줘"

Claude (Skill: pdf):
  생성:
  - API_Documentation.pdf
```

**도구**:
- ✅ Skill: pdf

**총 소요 시간**: 30분 (기존 2시간 → 75% 단축)

**사용된 도구**:
1. MCP: Context7
2. Skill: docx
3. Skill: pdf

---

## 시나리오 10: 데이터 분석 (Excel)

**요청**: "사용자 행동 데이터 분석"

### Phase 1: 데이터 수집 (5분)
```bash
Claude (자동):
  Database 쿼리 실행
  데이터 추출: 10,000 rows
```

**도구**:
- ✅ Native Claude

### Phase 2: Excel 분석 (15분)
```bash
사용자: "xlsx skill로 사용자 행동 분석해줘"

Claude (Skill: xlsx):
  생성:
  - user_behavior_analysis.xlsx
    - Sheet 1: 원본 데이터
    - Sheet 2: 집계 (피벗 테이블)
    - Sheet 3: 시각화 (차트)
    - Sheet 4: 통계 분석

  인사이트:
  - 평균 세션 시간: 12분
  - 리텐션: 68%
  - Churn 원인: 로딩 시간 >3초
```

**도구**:
- ✅ Skill: xlsx

### Phase 3: 보고서 생성 (10분)
```bash
사용자: "pdf skill로 분석 보고서 만들어줘"

Claude (Skill: pdf):
  생성:
  - user_behavior_report.pdf
    - Executive summary
    - 차트 및 그래프
    - 권고사항
```

**도구**:
- ✅ Skill: pdf

**총 소요 시간**: 30분 (기존 2시간 → 75% 단축)

**사용된 도구**:
1. Native Claude
2. Skill: xlsx
3. Skill: pdf

---

## 시나리오 11: 프레젠테이션 작성

**요청**: "기술 발표 자료 작성"

### Phase 1: 콘텐츠 구성 (10분)
```bash
사용자: "--brainstorm으로 발표 구조 잡아줘"

Claude:
  구조:
  1. 문제 정의
  2. 해결 방법
  3. 아키텍처
  4. 구현 결과
  5. 향후 계획
```

**도구**:
- ✅ Native Claude (Brainstorm)

### Phase 2: PowerPoint 생성 (20분)
```bash
사용자: "pptx skill로 발표 자료 만들어줘"

Claude (Skill: pptx):
  생성:
  - tech_presentation.pptx
    - 15 slides
    - 이미지, 차트, 코드 스니펫
    - Speaker notes
```

**도구**:
- ✅ Skill: pptx

### Phase 3: 비주얼 개선 (선택, 15분)
```bash
사용자: "canvas-design skill로 인포그래픽 만들어줘"

Claude (Skill: canvas-design):
  생성:
  - architecture_diagram.png
  - performance_chart.png
```

**도구**:
- ✅ Skill: canvas-design

**총 소요 시간**: 30분 (기존 2시간 → 75% 단축)

**사용된 도구**:
1. Native Claude (Brainstorm)
2. Skill: pptx
3. Skill: canvas-design (선택)

---

## 시나리오 12: 커스텀 도구 개발

**요청**: "프로젝트 전용 MCP 서버 개발"

### Phase 1: 요구사항 분석 (15분)
```bash
사용자: "skill-creator로 커스텀 스킬 설계해줘"

Claude (Skill: skill-creator):
  가이드:
  - 목적 정의
  - 도구 목록
  - 워크플로우
  - 프롬프트 작성
```

**도구**:
- ✅ Skill: skill-creator

### Phase 2: MCP 서버 구축 (30분)
```bash
사용자: "mcp-builder로 프로젝트 MCP 서버 만들어줘"

Claude (Skill: mcp-builder):
  생성:
  - mcp/project_mcp_server.py
    - 6개 커스텀 도구
    - FastMCP 프레임워크
    - 에러 핸들링
```

**도구**:
- ✅ Skill: mcp-builder

### Phase 3: 통합 테스트 (15분)
```bash
사용자: "MCP 서버 테스트해줘"

Claude:
  테스트:
  - Tool execution ✅
  - Error handling ✅
  - Performance ✅
```

**도구**:
- ✅ Native Claude

**총 소요 시간**: 60분 (기존 4시간 → 75% 단축)

**사용된 도구**:
1. Skill: skill-creator
2. Skill: mcp-builder
3. Native Claude

---

## 📊 플로우별 도구 사용 통계

| 시나리오 | 시간 절감 | 사용 도구 수 | 핵심 도구 |
|---------|----------|------------|----------|
| 1. 신규 기능 (E2E) | 68% | 12 | Academic DBs, Context7, Sequential, Magic, Playwright |
| 2. 레거시 리팩토링 | 69% | 5 | Sequential, Serena, Morphllm |
| 3. 버그 수정 (RCA) | 75% | 4 | Sequential, Context7, Morphllm, Playwright |
| 4. UI 개발 | 70% | 4 | Magic, Playwright, artifacts-builder |
| 5. 보고서 생성 | 75% | 4 | pdf, xlsx |
| 6. 멀티 세션 협업 | 60% | 5 | Serena, agent_sync, Magic, Playwright |
| 7. 성능 최적화 | 72% | 4 | Sequential, Context7, Morphllm, Playwright |
| 8. 접근성 검증 | 75% | 2 | Playwright, Magic |
| 9. 문서 작성 | 75% | 3 | Context7, docx, pdf |
| 10. 데이터 분석 | 75% | 3 | xlsx, pdf |
| 11. 프레젠테이션 | 75% | 3 | pptx, canvas-design |
| 12. 커스텀 도구 | 75% | 3 | skill-creator, mcp-builder |

**평균 시간 절감**: 72%
**평균 사용 도구**: 4.3개

---

## 🎯 Phase 1에 빠진 것 발견!

### 누락된 MCP & Skills

| 도구 | 타입 | 사용 빈도 | Phase 1 포함 여부 | 권장 |
|-----|------|----------|-----------------|------|
| **Playwright** | MCP | 시나리오 12개 중 8개 (67%) | ❌ 누락 | ✅ Phase 1 추가 필수! |
| **Academic DBs** | Verification | /dev 명령 핵심 | ❌ 누락 | ✅ Phase 1 추가 권장 |
| **pdf skill** | Skill | 보고서 생성 (6개 시나리오) | ❌ 누락 | ⚠️ Phase 2 추가 |
| **xlsx skill** | Skill | 데이터 분석 (3개 시나리오) | ❌ 누락 | ⚠️ Phase 2 추가 |
| **artifacts-builder** | Skill | 고급 대시보드 (2개 시나리오) | ❌ 누락 | 🟢 Optional |

### 수정 권장사항

#### 🔴 Critical - Phase 1에 반드시 추가
1. **Playwright MCP** (67% 시나리오에서 사용)
   - E2E 테스트 필수
   - 접근성 자동 검증
   - 시각적 회귀 테스트

#### 🟡 Important - Phase 1에 추가 권장
2. **Academic Verification** (/dev 명령의 핵심)
   - Semantic Scholar
   - arXiv
   - Crossref
   - PubMed
   - OpenAlex

#### 🟢 Recommended - Phase 2 추가
3. **pdf skill** (보고서 생성)
4. **xlsx skill** (데이터 분석)

---

## 🔄 수정된 Phase 1 (Complete)

```yaml
Phase 1 Mandatory (7.5시간):
  1. Conventional Commits (5min)
  2. Feature Branch (10min)
  3. PR for 10+ lines (5min)
  4. No Emoji (0min)
  5. TaskExecutor + YAML (3h)
     - Evidence Collection 자동
     - Obsidian Sync 자동
  6. Sequential MCP (1.5h) - 복잡한 분석
  7. Context7 MCP (1h) - 공식 문서
  8. Playwright MCP (1.5h) - E2E + a11y ← 추가!
  9. Academic Verification (30min) - /dev 핵심 ← 추가!

Phase 1 Optional (1시간):
  10. Multi-session coordination (30min)
  11. Magic MCP (30min) - UI 개발 시 필요

Total Investment: 8.5h mandatory + 1h optional
Weekly Savings: 15h/week
ROI: 8,700%
```

---

**마지막 업데이트**: 2025-10-31
**검증 완료**: 12개 사용자 플로우 시나리오 기반
**누락 항목 발견**: Playwright MCP, Academic DBs Phase 1 추가 필수
