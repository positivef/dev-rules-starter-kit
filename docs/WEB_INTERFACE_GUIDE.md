# 웹 인터페이스 사용 가이드

## 🌐 웹 대시보드 실행 방법

### 1. 웹 인터페이스 설치
```bash
# 웹 인터페이스 의존성 설치
cd web
pip install -r requirements.txt
```

### 2. 웹 서버 시작
```bash
# web 폴더에서 실행
python app.py

# 또는 프로젝트 루트에서
python web/app.py
```

### 3. 브라우저에서 접속
```
http://localhost:8000
```

---

## 📱 웹 인터페이스 기능

### 메인 대시보드 (http://localhost:8000)

#### 1️⃣ 현재 상태 패널
실시간으로 프로젝트 상태를 표시합니다:

| 메트릭 | 설명 | 색상 코드 |
|--------|------|-----------|
| **테스트 커버리지** | 현재 코드 커버리지 % | 🟢 >85% / 🟡 70-85% / 🔴 <70% |
| **총 테스트** | 전체 테스트 개수 | - |
| **실행 시간** | 마지막 테스트 실행 시간 | 🟢 <10m / 🟡 10-20m / 🔴 >20m |

#### 2️⃣ 빠른 실행 버튼
한 클릭으로 주요 기능 실행:

- **[TDD 체크]** → `python scripts/tier1_cli.py tdd --strict` 실행
- **[테스트 실행]** → 증분 테스트 실행
- **[TAG 추출]** → 코드에서 TAG 자동 추출
- **[증거 정리]** → 오래된 파일 정리

#### 3️⃣ 새 SPEC 생성
웹에서 직접 SPEC 문서 생성:
1. 텍스트 입력란에 기능 설명 입력
2. [생성] 버튼 클릭
3. `SPEC_날짜_번호_이름.md` 파일 자동 생성

#### 4️⃣ 최근 활동 로그
최근 실행한 작업들의 히스토리 표시

---

## 🔌 API 엔드포인트

### REST API 문서 (http://localhost:8000/docs)

FastAPI 자동 생성 문서에서 모든 API 테스트 가능:

#### 기본 API
```
GET  /                     # 메인 대시보드 HTML
GET  /api/status          # 시스템 상태 JSON
```

#### TDD 관련
```
POST /api/tdd             # TDD 체크 실행
{
  "strict": true,         # 엄격 모드
  "threshold": 85         # 커버리지 임계값
}
```

#### 테스트 실행
```
POST /api/tests           # 테스트 실행
{
  "incremental": true,    # 증분 테스트
  "parallel": false       # 병렬 실행
}
```

#### SPEC 관리
```
POST /api/specs           # SPEC 생성
{
  "description": "로그인 API 구현",
  "tags": ["auth", "api"]
}
```

#### TAG 시스템
```
POST /api/tags/extract    # TAG 추출
GET  /api/tags/{tag_id}   # TAG 정보 조회
```

#### 증거 관리
```
POST /api/evidence/clean  # 증거 파일 정리
```

#### 리포트
```
GET  /api/reports/coverage # 커버리지 리포트
```

---

## 🖼️ 웹 인터페이스 화면 설명

### 메인 대시보드
```
┌──────────────────────────────────────────┐
│  🚀 Dev Rules Dashboard                  │
│  TDD 기반 개발 관리 시스템              │
└──────────────────────────────────────────┘

┌──────────────────────────────────────────┐
│ 📊 현재 상태                             │
│  ┌──────┐ ┌──────┐ ┌──────┐            │
│  │  87% │ │  42  │ │ 5.2m │            │
│  │커버리지│ │테스트 │ │시간  │            │
│  └──────┘ └──────┘ └──────┘            │
└──────────────────────────────────────────┘

┌──────────────────────────────────────────┐
│ 🛠️ 빠른 실행                            │
│  [TDD체크] [테스트] [TAG추출] [정리]     │
└──────────────────────────────────────────┘

┌──────────────────────────────────────────┐
│ 📝 새 SPEC 생성                          │
│  [________________입력란_____] [생성]    │
└──────────────────────────────────────────┘
```

---

## 🎮 사용 시나리오

### 시나리오 1: 새 기능 개발
1. 웹 대시보드 접속 (http://localhost:8000)
2. "새 SPEC 생성"에 기능 설명 입력
3. [생성] 클릭 → SPEC 문서 자동 생성
4. 터미널로 이동하여 테스트 작성
5. 웹에서 [TDD 체크] 클릭
6. 커버리지 확인 후 구현 진행

### 시나리오 2: 일일 체크
1. 웹 대시보드 접속
2. "현재 상태" 패널에서 메트릭 확인
3. [테스트 실행] 클릭
4. 실행 결과 팝업 확인
5. 필요시 [증거 정리] 실행

### 시나리오 3: CI/CD 모니터링
1. API 엔드포인트 활용
2. Jenkins/GitHub Actions에서 REST API 호출
3. 결과를 웹 대시보드에서 확인

---

## 🔧 커스터마이징

### 포트 변경
```python
# web/app.py 하단 수정
uvicorn.run(app, host="0.0.0.0", port=8080)  # 8000 → 8080
```

### 테마 변경
```html
<!-- web/app.py의 style 섹션 수정 -->
.header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    /* 다른 색상으로 변경 */
}
```

### 새 기능 추가
```python
# web/app.py에 새 엔드포인트 추가
@app.post("/api/custom")
async def custom_feature():
    """커스텀 기능."""
    # 구현
    return {"result": "success"}
```

---

## 🚨 주의사항

1. **보안**: 프로덕션에서는 인증 추가 필요
2. **CORS**: 외부 접근 시 CORS 설정 필요
3. **성능**: 대용량 프로젝트는 비동기 처리 권장
4. **경로**: 명령 실행 시 상대 경로 주의

---

## 📞 문제 해결

### 웹 서버가 시작 안 됨
```bash
# FastAPI 설치 확인
pip install fastapi uvicorn

# 포트 충돌 확인
netstat -an | findstr 8000
```

### API 호출 실패
```bash
# 프로젝트 경로 확인
cd dev-rules-starter-kit
python web/app.py

# 권한 확인
python scripts/tier1_cli.py --help
```

### 실시간 업데이트 안 됨
```javascript
// 브라우저 콘솔에서 확인
fetch('/api/status').then(r => r.json()).then(console.log)
```

---

## 🎯 다음 단계

1. **인증 추가**: JWT 기반 로그인 구현
2. **실시간 알림**: WebSocket으로 실시간 업데이트
3. **그래프 추가**: Chart.js로 트렌드 시각화
4. **다크 모드**: 테마 전환 기능
5. **모바일 지원**: 반응형 디자인 개선

이제 웹 인터페이스를 통해 더 쉽게 시스템을 사용할 수 있습니다!
